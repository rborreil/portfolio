document.addEventListener("DOMContentLoaded",()=>{const e=document.querySelector(".fixed-btn .fixed-mail"),t=document.querySelector(".fixed-btn .fixed-home"),n=document.querySelector(".floating-nav"),o=document.querySelector("#hero");function r(e){return e.getBoundingClientRect().top+window.pageYOffset}function i(){const i=window.pageYOffset,s=i+window.innerHeight,d=o?o.getBoundingClientRect().bottom+window.pageYOffset:300,a=document.querySelector("#contact"),c=document.querySelector("#footer"),l=!!a&&s>=r(a),u=!!c&&s>=r(c),f=i>d&&!u,m=i>d&&!l;e.classList.toggle("fixed-hidden",!m),t.classList.toggle("fixed-hidden",!f),n.classList.toggle("fixed-hidden",!f)}window.addEventListener("scroll",i),window.addEventListener("resize",i);const s=document.querySelectorAll(".number"),d=new IntersectionObserver((e,t)=>{e.forEach(e=>{e.isIntersecting&&((e=>{const t=+e.dataset.value,n=e.dataset.prefix||"",o=e.dataset.suffix||"",r=performance.now(),i=s=>{const d=Math.min((s-r)/1200,1),a=Math.floor(d*t);e.textContent=`${n}${a}${o}`,d<1?requestAnimationFrame(i):e.textContent=`${n}${t}${o}`};requestAnimationFrame(i)})(e.target),t.unobserve(e.target))})},{threshold:.6});s.forEach(e=>d.observe(e)),window.addEventListener("load",()=>{const e=document.querySelector("#testimonials .testimonials-carousel");if(!e)return;const t=e.querySelector(".carousel-viewport"),n=e.querySelector(".carousel-track");if(!t||!n)return;n.dataset.cloned||([...n.children].forEach(e=>n.appendChild(e.cloneNode(!0))),n.dataset.cloned="true");let o=null,r=null,i=!1,s=null;function d(e){if(i)return void(r=null);o||(o=e);const s=(e-o)/1e3;o=e;const a=n.scrollWidth/2;t.scrollLeft+=18*s,t.scrollLeft>=a&&(t.scrollLeft-=a),r=requestAnimationFrame(d)}function a(){r||(i=!1,o=null,r=requestAnimationFrame(d))}function c(){i=!0,clearTimeout(s),s=setTimeout(a,1500)}t.addEventListener("wheel",c,{passive:!0}),t.addEventListener("touchstart",c,{passive:!0}),t.addEventListener("mouseenter",c);let l=!1,u=0,f=0;function m(e){if(l){l=!1;try{t.releasePointerCapture(e.pointerId)}catch(e){}t.classList.remove("is-dragging"),s=setTimeout(a,600)}}t.addEventListener("pointerdown",e=>{"mouse"===e.pointerType&&0!==e.button||(l=!0,t.setPointerCapture(e.pointerId),t.classList.add("is-dragging"),u=e.clientX,f=t.scrollLeft,i=!0,clearTimeout(s))}),t.addEventListener("pointermove",e=>{if(!l)return;const n=e.clientX-u;t.scrollLeft=f-n}),t.addEventListener("pointerup",m),t.addEventListener("pointercancel",m),t.addEventListener("pointerleave",m),a()})});