document.addEventListener("DOMContentLoaded",()=>{const e=document.querySelector(".fixed-btn .fixed-mail"),t=document.querySelector(".fixed-btn .fixed-home"),n=document.querySelector(".floating-nav"),o=document.querySelector("#hero");function r(e){return e.getBoundingClientRect().top+window.pageYOffset}function i(){const i=window.pageYOffset,s=i+window.innerHeight,d=o?o.getBoundingClientRect().bottom+window.pageYOffset:300,a=document.querySelector("#contact"),c=document.querySelector("#footer"),l=!!a&&s>=r(a),u=!!c&&s>=r(c),m=i>d&&!u,f=i>d&&!l;e.classList.toggle("fixed-hidden",!f),t.classList.toggle("fixed-hidden",!m),n.classList.toggle("fixed-hidden",!m)}window.addEventListener("scroll",i),window.addEventListener("resize",i);const s=document.querySelectorAll(".number"),d=new IntersectionObserver((e,t)=>{e.forEach(e=>{e.isIntersecting&&((e=>{const t=+e.dataset.value,n=e.dataset.prefix||"",o=e.dataset.suffix||"",r=performance.now(),i=s=>{const d=Math.min((s-r)/1200,1),a=Math.floor(d*t);e.textContent=`${n}${a}${o}`,d<1?requestAnimationFrame(i):e.textContent=`${n}${t}${o}`};requestAnimationFrame(i)})(e.target),t.unobserve(e.target))})},{threshold:.6});s.forEach(e=>d.observe(e));const a=document.querySelector("#testimonials .testimonials-carousel.swiper");if(!a||!window.Swiper)return;const c=a.querySelector(".swiper-wrapper");if(!c)return;const l=Array.from(c.children);if(l.length&&c.children.length<28){let e=0;for(;c.children.length<28;)c.appendChild(l[e%l.length].cloneNode(!0)),e++}a.swiper&&a.swiper.destroy(!0,!0);const u=new Swiper(a,{loop:!0,slidesPerView:"auto",spaceBetween:24,freeMode:{enabled:!0,momentum:!1,sticky:!1},watchSlidesProgress:!0,grabCursor:!0});let m=null,f=!1;const w=()=>{if(!f){const e=u.translate-.6;u.setTranslate(e),u.updateProgress(),u.updateActiveIndex(),u.updateSlidesClasses(),u.loopFix&&u.loopFix()}m=requestAnimationFrame(w)},g=()=>f=!0,h=()=>f=!1;a.addEventListener("mouseenter",g),a.addEventListener("mouseleave",h),u.on("touchStart",g),u.on("touchEnd",h),document.addEventListener("visibilitychange",()=>{f=!!document.hidden}),requestAnimationFrame(()=>{u.update(),w()}),window.__swiper=u});